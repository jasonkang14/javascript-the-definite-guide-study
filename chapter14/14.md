## 14. Window 객체

#### 14-1 타이머

Window 객체에는 지정한 시간이 흐른 다음 한 번 이상 호출되는 함수를  
등록할 수 있다.

`setTimeout()` 메서드는 일정 시간이 흐른 후에 콜백을 실행시킨다.  
`setInterval()` 메서드는 지정한 시간 주기마다 콜백을 반복적으로 실행시킨다.  
두 메서드는 함수를 취소할 수 있도록 `clearTimeout()`, `clearInterval()`  
를 제공한다.

#### 14-2 브라우저의 Location과 Navigation

Window 객체의 location 프로퍼티는 현재 창에 표시된 문서의 URL을 나타내는  
Location 객체와 연결되어 있다.

#### 14-2-1 URL 파싱

Location 객체의 protocol, host, hostname, port, pathname, search, hash와  
같은 것들을 URL 분해 프로퍼티라고 부른다.

#### 14-2-2 새 문서 불러오기

Location 객체의 `assign()`메서드는 창을 불러와서 지정한 URL에 해당하는  
문서를 보여준다.  
`replace()`메서드는 새 문서를 불러오기 전에 브라우저 히스토리상의 현재 문서를  
제거한다.

#### 14-3 브라우징 히스토리

Window 객체의 history 프로퍼티는 History 객체를 가리킨다.  
History 객체의 length 프로퍼티는 브라우징 히스토리 목록의 개수를 나타낸다.  
`history.go()`, `history.back()`등 메서드가 존재한다.

#### 14-4 브라우저와 화면 정보

#### 14-4-1 Navigator 객체

브라우저 제조사와 버전 정보를 포함하고 있는 Navigator 객체를 가리킨다.  
실행 중인 브라우저에 관한 네 개의 프로퍼티를 제공한다.

```
1. appName : 웹 브라우저의 전체 이름이다.
2. appVersion : 브라우저 제조사와 버전 정보 등을 포함한 문자열이다.
3. userAgent : 브라우저가 USER-AGENT HTTP 헤더로 보낸 문자열이다.
4. platform : 브라우저를 실행하고 있는 운영체제를 식별하는 문자열이다.
```

외에도

```
geolocation : 사용자의 지리적 위치 정보를 담고있다.
```

#### 14-4-2 Screen 객체

사용자 디스플레이와 사용 가능한 색상수에 관련된 정보를 제공한다.

#### 14-5 대화상자

Window 객체는 간단한 대화상자를 보여주는 세 개의 메서드를 제공한다.

```
1. alert()은 사용자에게 메시지를 보여주고 확인을 기다린다.
2. confirm()은 사용자에게 메시지를 보여주고 사용자가 확인이나 취소 버튼을 누를 때까지 대기한 다음 boolean 값을 반환한다.
3. prompt()는 메시지를 보여주고 사용자의 입력을 받은 다음 해당 문자열을 반환한다.
```

#### 14-6 오류 처리

Window 객체의 onerror 프로퍼티는 처리되지 않은 예외가 발생했을 때 호출스택까지의  
모든 경로와 브라우저의 자바스크립트 콘솔에 출력되는 오류 메시지가 전달되는 이벤트  
핸들러이다.

onerror 이벤트 핸들러가 false를 반환하면 핸들러가 이미 오류를 처리해서 더 이상  
다른 처리가 필요하지 않음을 브라우저에게 알린다.

#### 14-7 Window 프로퍼티의 문서 요소

어떤 요소에 id 속성을 부여하고 Window 객체에 같은 이름의 프로퍼티가 없다면,  
id 속성을 이름으로 하고 해당 요소를 나타내는 HTMLElement 객체를 값으로 가지는  
프로퍼티가 Window 객체에 제공된다.

문서 전체에서 동일안 id가 같을 수 없다.(문서에서 유일해야 한다.)

#### 14-8 다중 창과 프레임

웹 브라우서에서 각 탭은 브라우징 문맥상 독립적이다.  
다른 탭과는 단절된 독립적인 Window 객체를 가진다.

하나의 창 혹은 탭에서 스크립트를 사용해 새 창 또는 탭을 열 수 있고,  
원래 창과 다른 창의 문서와 상호작용할 수 있다.

HTML 문서는 `<iframe>` 요소를 사용해 또 다른 문서를 포함할 수 있다.

중첩된 브라우징 문맥은 독립적인 탭들처럼 서로 단절되어 있지 않다.  
하나의 프레임에서 해당 프레임의 상위 또는 하위 프레임을 스크립트도 조작할 수 있다.  
(동일 출처 정책을 만족할 경우)

동일 출처 정책에 의해 뚜렷이 구분되는 두 창이 서로 직접 영향을 끼치지 못할 때,  
HTML5에서는 간접적으로 통신할 수 있는 이벤트 기반 메시지 통용 API를 제공한다.

WindowProxy 객체
Window 객체가 클라이언트 측 자바스크립트의 전역 객체라고 언급했지만,
엄밀히 말하자면 이는 틀림 표현이다.  
웹 브라우저는 매번 새 내용을 창이나 프레임에 불러오는데, 이 때마다 새로 생성된 전역 객체를  
포함하는 자바스크립트 실행 문맥을 가지고 시작해야한다.  
그러나 다중 창이나 프레임을 Window 객체에서 사용하고 있을 때 해당 창이나 프레임이  
새 문서를 불러온 이후에도 여전히 그것들에 대해 유효한 참조를 보유할지는 좀 애매하다.  
Window 객체라 불리는 것은 실제로는 전역 객체가 아니고 전역 객체를 대행한다.  
Window 객체의 프로퍼티를 가져오거나 설정할 때마다, Window 객체는 창이나 프레임의 현재  
전역 객체로부터 같은 이름의 프로퍼티를 가져오거나 설정한다.  
HTML5 명세에서는 이를 대행 객체라고 부르며 WindowProxy로 정의한다.

하지만 이 책에서는 Window 객체라는 용어를 계속 사용하겠다.  
왜냐하면 수명이 긴 경우를 제외하면 대행 객체가 실제 전역 객체처럼 동작하기 때문이다.
