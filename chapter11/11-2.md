### 11.2 상수와 범위 변수

언어 확장에 대해 살펴본다. 자바스크립트 1.5나 그 이후의 버전에서는 const 키워드를 사용하여 상수를 정의할 수 있다.

```js
const pi = 3.14 // 상수를 정의하고 값을 할당
pi = 4          // 이후의 모든 할당은 무시된다
const pi = 4    // 상수를 재정의하는 것은 잘못된 것!
var pi = 4      // 이 또한 잘못된 것!
```

| 변수에 대한 블록 유효범위가 없다는 것은 오랫동안 자바스크립트의 단점으로 간주되었지만, 이제 "let, const" 키워드를 추가함으로써 이를 해결하였다.

```js
function oddsums(n) {
  let total = 0, result = [];

  for(let x = 1; x <= n; x++) {
    let odd = 2 * x-1;
    total += odd;
    result.push(total)
  }
  // 여기서 x나 odd를 사용하려면 참조 에러가 발생한다! (Reference Error)
  return result;
}

oddsums(5);  // [1, 4, 9, 16, 25];
```

- 변수가 초기화되기 전에 사용되는 것을 막는 방법은 let 블록 구문을 사용하여 해당 블록에서 사용하려는 변수와 그 변수를 초기화하는 표현식을 결합하는 것이다.

```js
let x = 1, y = 2;
let (x = x+1, y = y+1) {    // 해당 블록에서 새로 정의된 x,y 는 밖에서 정의된 x,y를 가린다.
  console.log(x+y)          // 즉, 밖에 있는 x,y가 아닌 새로 생성된 변수. 3+2 는 5
}

console.log(x + y)          // 원래 밖에 정의된 값. 1+2는 3
```